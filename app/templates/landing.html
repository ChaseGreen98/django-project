{% extends "root.html" %}
{% load static %}

{% block content %}

<div class="desktop">

    <!-- Desktop Icons -->
    <div class="desktop-icons">

        <a href="{% url 'pc-list' %}" class="desktop-icon">
            <div class="icon-frame">
                ğŸ—‚ï¸
                <span>My Builds</span>
            </div>
        </a>

        <form action="{% url 'create_computer' %}" method="POST" class="desktop-icon">
            {% csrf_token %}
            <button type="submit" class="icon-submit">
                <div class="icon-frame">
                    ğŸ§©
                    <span>New Build</span>
                </div>
            </button>
        </form>

        <a href="{% url 'social' %}" class="desktop-icon">
            <div class="icon-frame">
                ğŸ’¬
                <span>Tech Connect</span>
            </div>
        </a>

        <a href="{% url 'account' %}" class="desktop-icon">
            <div class="icon-frame">
                ğŸ‘¤
                <span>Account</span>
            </div>
        </a>

        {% if user.is_superuser %}
        <a href="{% url 'admin' %}" class="desktop-icon">
            <div class="icon-frame">
                ğŸ› ï¸
                <span>Admin</span>
            </div>
        </a>
        {% endif %}

    </div>

    <div class="desktop-logo">
        <img src="{% static 'images/windows_logo.png' %}" alt="Windows Logo">
    </div>

    <!-- Featured Build Window -->
    <div class="window featured-window right-window">
        <div class="window-titlebar">
            Featured Build
        </div>

        <div class="window-content">
            {% if random_computer %}
                <h3>{{ random_computer.name }}</h3>
                <ul>
                    {% if random_computer.cpu %}<li>CPU: {{ random_computer.cpu.brand }} {{ random_computer.cpu.model }}</li>{% endif %}
                    {% if random_computer.gpu %}<li>GPU: {{ random_computer.gpu.brand }} {{ random_computer.gpu.model }}</li>{% endif %}
                    {% if random_computer.memory %}<li>RAM: {{ random_computer.memory.brand }} {{ random_computer.memory.model }}</li>{% endif %}
                    {% if random_computer.motherboard %}<li>Motherboard: {{ random_computer.motherboard.brand }} {{ random_computer.motherboard.model }}</li>{% endif %}
                    {% if random_computer.storagedrive %}<li>Storage: {{ random_computer.storagedrive.brand }} {{ random_computer.storagedrive.model }}</li>{% endif %}
                    {% if random_computer.cpucooler %}<li>CPU Cooler: {{ random_computer.cpucooler.brand }} {{ random_computer.cpucooler.model }}</li>{% endif %}
                    {% if random_computer.psu %}<li>PSU: {{ random_computer.psu.brand }} {{ random_computer.psu.model }}</li>{% endif %}
                    {% if random_computer.case %}<li>Case: {{ random_computer.case.brand }} {{ random_computer.case.model }}</li>{% endif %}
                    {% if random_computer.fan %}<li>Fan: {{ random_computer.fan.brand }} {{ random_computer.fan.model }}</li>{% endif %}
                </ul>
            {% else %}
                <p>No computers in the database yet.</p>
            {% endif %}
        </div>
    </div>

</div>

<!-- Taskbar -->
<div class="taskbar">
    <div class="start-button">Start</div>

    <form action="{% url 'logout' %}" method="POST">
        {% csrf_token %}
        <button class="taskbar-button" type="submit">Logout</button>
    </form>
</div>

{% endblock %}
