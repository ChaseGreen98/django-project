{% extends "root.html" %}

{% block content %}
<div class="landing-container" style="display:flex; gap:2rem;">

    <div class="random-computer" style="flex:1; border: 2px solid #ccc; padding: 1rem;">
        <h2>Featured Build</h2>
        {% if random_computer %}
            <h3>{{ random_computer.name }}</h3>
            <ul>
                {% if random_computer.cpu %}<li>CPU: {{ random_computer.cpu.brand }} {{ random_computer.cpu.model }}</li>{% endif %}
                {% if random_computer.gpu %}<li>GPU: {{ random_computer.gpu.brand }} {{ random_computer.gpu.model }}</li>{% endif %}
                {% if random_computer.memory %}<li>RAM: {{ random_computer.memory.brand }} {{ random_computer.memory.model }}</li>{% endif %}
                {% if random_computer.motherboard %}<li>Motherboard: {{ random_computer.motherboard.brand }} {{ random_computer.motherboard.model }}</li>{% endif %}
                {% if random_computer.storagedrive %}<li>Storage: {{ random_computer.storagedrive.brand }} {{ random_computer.storagedrive.model }}</li>{% endif %}
                {% if random_computer.cpucooler %}<li>CPU Cooler: {{ random_computer.cpucooler.brand }} {{ random_computer.cpucooler.model }}</li>{% endif %}
                {% if random_computer.psu %}<li>PSU: {{ random_computer.psu.brand }} {{ random_computer.psu.model }}</li>{% endif %}
                {% if random_computer.case %}<li>Case: {{ random_computer.case.brand }} {{ random_computer.case.model }}</li>{% endif %}
                {% if random_computer.fan %}<li>Fan: {{ random_computer.fan.brand }} {{ random_computer.fan.model }}</li>{% endif %}
            </ul>
        {% else %}
            <p>No computers in the database yet.</p>
        {% endif %}
    </div>

    <!-- Right side: User actions -->
    <div class="landing-actions" style="flex:1; display:flex; flex-direction:column; gap:1rem; border: 2px solid #ccc; padding: 1rem;">
        <!-- Start a build -->
        <form action="{% url 'create_computer' %}" method="POST">
            {% csrf_token %}
            <button type="submit">Start a Build</button>
        </form>

        <!-- View existing builds -->
        <a href="{% url 'pc-list' %}">
            <button>View My Builds</button>
        </a>

        <!-- Account settings -->
        <a href="{% url 'account' %}">
            <button>Account</button>
        </a>

        <!-- Tech Connect / Social -->
        <a href="{% url 'social' %}">
            <button>Tech Connect</button>
        </a>

        <!-- Logout -->
        <form action="{% url 'logout' %}" method="POST">
            {% csrf_token %}
            <button type="submit">Logout</button>
        </form>
        {% if user.is_superuser%}
            <a href="{% url 'admin' %}">
                <button>Admin</button>
            </a>
        {% endif %}
        

    </div>

</div>
{% endblock %}
